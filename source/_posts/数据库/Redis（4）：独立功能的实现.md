---
title: Redis（4）：独立功能的实现
type: tags
tags:
  - null
date: 2019-03-04 18:37:23
categories:
description:
---

# 事务

Redis通过MULTI（开始）、EXEC（提交）、WATCH等实现事务功能

事务提供将多个命令请求打包，然后一次性、按顺序地执行多个命令的机制，在事务执行期间，服务器不会中断事务执行其他客户端的命令请求。

事务的原子性、一致性、隔离性、耐久性 ACID

## 事务的实现

事务的三个阶段

- 事务开始
  - MULTI命令
- 命令入队
- 事务执行

## WATCH

乐观锁，在EXEC命令执行前，监视任意数量的数据库键，并在EXEC命令执行时，检查被监视的键是否至少有一个已经被修改，如果是，则拒绝执行事务，并返回代表事务执行失败的空回复

# 参考 #

1. 
