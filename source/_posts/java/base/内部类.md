---
title: 内部类
type: tags
tags:
  - javaBase
date: 2018-10-18 23:16:20
categories: java
description: 内部类，匿名内部类，静态内部类
---
# 内部类

内部类是定义在另一个类当中的类

## 使用原因

- 内部类方法可以访问该类定义所在的作用域中的数据，包括私有的数据。
- 内部类可以对同一个包中的其他类隐藏起来。
- 当想要定义一个回调函数且不想编写大量代码时，使用匿名内部类比较便捷。

## 使用

内部类可以由外部类的方法进行创建

内部类的对象总会有一个隐式的引用，它指向了创建它的外部对象，因此，内部类是可以直接调用外部类的实例变量

```java
public class InnerClassTest {
    /**
     * 类的方法构造内部类的实例
     */
    public void start() {
        //构造内部类
        ActionListener listener = new TimePrinter();
        Timer t = new Timer(interval, listener);
        t.start();
    }
    /**
     * 内部类
     * 内部类可以访问外部类的变量
     */
    public class TimePrinter implements ActionListener {
        @Override
        public void actionPerformed(ActionEvent event) {
            System.out.println("At the tone, the time is " + new Date());
            //这个beep是外部类的变量
            if (beep) {
                Toolkit.getDefaultToolkit().beep();
            }
        }
    }
}
```

## 局部内部类

在上面，只有start方法使用了内部类，则可以在方法中定义局部类

```java
public class InnerClassTest {
    /**
     * 类的方法构造内部类的实例
     */
    public void start() {
        /**
        * 局部内部类
        */
        class TimePrinter implements ActionListener {
            @Override
            public void actionPerformed(ActionEvent event) {
                System.out.println("At the tone, the time is " + new Date());
                //这个beep是外部类的变量
                if (beep) {
                    Toolkit.getDefaultToolkit().beep();
                }
            }
        }
        //构造内部类
        ActionListener listener = new TimePrinter();
        Timer t = new Timer(interval, listener);
        t.start();
    }
}
``` 

- 不能使用public或者private进行修饰，作用范围只在这个方法当中，对外部完全隐藏。
- 局部方法可以访问局部变量，即在方法当中定义的变量，但是他们必须是不会在方法中改变的，最好是方法的参数

# 匿名内部类

对局部内部类的一个深入，如果只创建这个类的一个对象，则不必命名了。

```java
public class InnerClassTest {
    /**
     * 类的方法构造内部类的实例
     */
    public void start() {
        /**
        * 匿名内部类
        */
          ActionListener listener = new TimePrinter(){
            public void actionPerformed(ActionEvent event) {
                System.out.println("At the tone, the time is " + new Date());
                //这个beep是外部类的变量
                if (beep) {
                    Toolkit.getDefaultToolkit().beep();
                }
            }
        }
        Timer t = new Timer(interval, listener);
        t.start();
    }
}
``` 
# 静态内部类

如果使用内部类只是为了把一个类隐藏在另外一个类的内部，并不需要内部类引用外围类对象。为此，可以将内部类声明为static,以便取消产生的引用。

# 参考 #
1. 
