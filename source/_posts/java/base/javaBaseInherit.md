---
title: javaBaseInherit
type: tags
date: 2018-09-23 10:30:10
categories: java
tags: 
- javaBase
description: java笔记的基础知识整理，SE继承
---
# 关于继承和组合 #

- 组合：使用现有的类合成一个新的类
- 聚合：动态的进行组合

## 如何选择继承和组合 ## 

1. 组合相对于继承更为灵活，过分地使用继承会导致设计过分地复杂，而且并不清晰
2. 建议在同样可行的情况下，优先使用组合而不是继承。因为组合更安全，更简单，更灵活，更高效。
3. 问一问自己是否需要从新类向基类进行向上转型。如果是必须的，则继承是必要的。反之则应该好好考虑是否需要继承。
4. 只有当子类真正是超类的子类型时，才适合用继承。换句话说，对于两个类A和B，只有当两者之间确实存在is-a关系的时候，类B才应该继续类A。

## 优缺点 ##

### 组合优点：###

1. 不破坏封装，整体类与局部类之间松耦合，彼此相对独立
2. 具有较好的可扩展性
3. 支持动态组合。在运行时，整体对象可以选择不同类型的局部对象
4. 整体类可以对局部类进行包装，封装局部类的接口，提供新的接口

### 组合缺点：### 

1. 整体类不能自动获得和局部类同样的接口
2. 创建整体类的对象时，需要创建所有局部类的对象

### 继承优点：### 

1. 子类能自动继承父类的接口
2. 创建子类的对象时，无须创建父类的对象

### 继承缺点：### 

1. 破坏封装，子类与父类之间紧密耦合，子类依赖于父类的实现，子类缺乏独立性
2. 支持扩展，但是往往以增加系统结构的复杂度为代价
3. 不支持动态继承。在运行时，子类无法选择不同的父类

## 继承,多态,接口,抽象类 ##

- java虚拟机对待继承时,会在类先寻找该方法,如果找不到,就找它的父类,依次寻找上级直到找到为止
- 继承关系可以通过is-a关系检验
- public成员会被继承,private成员不会被继承 
       
### 子类与父类的联系 ###

- 子类不能访问父类的私有变量,但是!!!子类在创建的时候,还是有初始化父类的私有变量的  
- 当初始化的时候,子类会创建子类,父类以及object类的对象,并会把父类和object类包含在内部,(还是一个对象)

### 注意 ###

- C#中(Java应该一样)虽然private成员不会被继承,但是可以继承public方法,以此去访问成员,   
- 但是子类是没有那个private成员的!!!!,它没法继承那个成员,它所得到的只是通过继承父类的public方法,以该方法去访问那个成员


# 多态 #

## 核心 ##

- 多态就是指程序中定义的引用变量所指向的具体类型和通过该引用变量发出的方法调用在编程时并不确定，而是在程序运行期间才确定，即一个引用变量倒底会指向哪个类的实例对象，该引用变量发出的方法调用到底是哪个类中实现的方法，必须在由程序运行期间才能决定。
- 因为在程序运行时才确定具体的类，这样，不用修改源程序代码，就可以让引用变量绑定到各种不同的类实现上，从而导致该引用调用的具体方法随之改变，即不修改程序代码就可以改变程序运行时所绑定的具体代码，让程序可以选择多个运行状态，这就是多态性。
- 指向子类的父类引用由于向上转型了，它只能访问父类中拥有的方法和属性，而对于子类中存在而父类中不存在的方法，该引用是不能使用的，尽管是重载该方法。若子类重写了父类中的某些方法，在调用该些方法的时候，必定是使用子类中定义的这些方法（动态连接、动态调用）
- 在继承链中对象方法的调用存在一个优先级：this.show(O)、super.show(O)、this.show((super)O)、super.show((super)O)。即先查this对象的父类，没有就重头再查参数的父类

## 定义 ##

1. 面向对象的三大特性：封装、继承、多态
2. 多态的定义：指允许不同类的对象对同一消息做出响应。即同一消息可以根据发送对象的不同而采用多种不同的行为方式。（发送消息就是函数调用）
3. 实现多态的技术称为：动态绑定（dynamic binding），是指在执行期间判断所引用对象的实际类型，根据其实际的类型调用其相应的方法。
4. 多态的作用：消除类型之间的耦合关系。
5. 实现形式：继承和接口

### 必要条件 ###

多态存在的三个必要条件
1. 要有继承；
2. 要有重写；
3. 向上转型，父类引用指向子类对象。

### 优点 ###

1. 可替换性（substitutability）。多态对已存在代码具有可替换性。例如，多态对圆Circle类工作，对其他任何圆形几何体，如圆环，也同样工作。
2. 可扩充性（extensibility）。多态对代码具有可扩充性。增加新的子类不影响已存在类的多态性、继承性，以及其他特性的运行和操作。实际上新加子类更容易获得多态功能。例如，在实现了圆锥、半圆锥以及半球体的多态基础上，很容易增添球体类的多态性。
3. 接口性（interface-ability）。多态是超类通过方法签名，向子类提供了一个共同接口，由子类来完善或者覆盖它而实现的。如图8.3所示。图中超类Shape规定了两个实现多态的接口方法，computeArea()以及computeVolume()。子类，如Circle和Sphere为了实现多态，完善或者覆盖这两个接口方法。
4. 灵活性（flexibility）。它在应用中体现了灵活多样的操作，提高了使用效率。
5. 简化性（simplicity）。多态简化对应用软件的代码编写和修改过程，尤其在处理大量对象的运算和操作时，这个特点尤为突出和重要。


	Animal Adog =new Dog()
	Adog.eat()会调用Dog的eat方法而不是Animal的方法

## 注意 ##

- 参数和返回类型同样可以多态

